ggtitle(paste(onset_type)) +
ylim(c(0, 0.7)) +
ylab('onset coef')
print(onset_coef_plot)
}
chosen_onset_types <- c("freq_10_persiann", "rangethres_10_15_15_40_persiann", "rangethres_10_15_30_40_persiann", "freq_12_persiann",
"freq_8_persiann", "rangethres_10_15_20_30_persiann")
for (onset_type in chosen_onset_types) {
results_FE <- all_results[all_results$model_type == "FE" &
all_results$onset_type == onset_type,]
results_FE$model_spec = "FE"
results_OLS <- all_results[all_results$model_type == "OLS" &
all_results$lat_predictor == "yes" &
all_results$year_predictor == "yes" &
all_results$onset_type == onset_type,]
results_OLS$model_spec = "OLS"
results <- rbind(results_FE, results_OLS)
results <- unite(results, col = "desc", model_type:plant_stat_type, remove = FALSE)
# group by onset_type and calculate mean, median, min, max and stdev for each onset_type
results_summary <- results %>% group_by(desc, model_type, plant_stat_type, intensity) %>%
summarize(mean_onset_coef = mean(onset_coef),
mean_onset_coef_stderr = mean(onset_coef_stderr),
mean_R2 = mean(R2),
sd_onset_coef = sd(onset_coef),
sd_onset_coef_stderr = sd(onset_coef_stderr),
sd_R2 = sd(R2)
)
onset_coef_plot <- ggplot(results_summary) +
geom_point(aes(x = desc, y = mean_onset_coef)) +
geom_errorbar(aes(x = desc, ymin= mean_onset_coef-sd_onset_coef, ymax=mean_onset_coef+sd_onset_coef)) +
theme_bw() +
theme(axis.text.x = element_text(angle = 90)) +
ggtitle(paste(onset_type)) +
ylim(c(0, 0.7)) +
ylab('onset coef')
print(onset_coef_plot)
}
chosen_onset_types <- c("freq_10_persiann", "rangethres_10_15_15_40_persiann", "rangethres_10_15_30_40_persiann", "freq_12_persiann",
"freq_8_persiann", "rangethres_10_15_20_30_persiann")
for (onset_type in chosen_onset_types) {
results_FE <- all_results[all_results$model_type == "FE" &
all_results$onset_type == onset_type,]
results_FE$model_spec = "FE"
results_OLS <- all_results[all_results$model_type == "OLS" &
all_results$lat_predictor == "yes" &
all_results$year_predictor == "yes" &
all_results$onset_type == onset_type,]
results_OLS$model_spec = "OLS"
results <- rbind(results_FE, results_OLS)
results <- unite(results, col = "desc", model_type:plant_stat_type, remove = FALSE)
# group by onset_type and calculate mean, median, min, max and stdev for each onset_type
results_summary <- results %>% group_by(desc, model_type, plant_stat_type, intensity) %>%
summarize(mean_onset_coef = mean(onset_coef),
mean_onset_coef_stderr = mean(onset_coef_stderr),
mean_R2 = mean(R2),
sd_onset_coef = sd(onset_coef),
sd_onset_coef_stderr = sd(onset_coef_stderr),
sd_R2 = sd(R2)
)
onset_coef_plot <- ggplot(results_summary) +
geom_point(aes(x = desc, y = mean_onset_coef, col = model_type)) +
geom_errorbar(aes(x = desc, ymin= mean_onset_coef-sd_onset_coef, ymax=mean_onset_coef+sd_onset_coef)) +
theme_bw() +
theme(axis.text.x = element_text(angle = 90)) +
ggtitle(paste(onset_type)) +
ylim(c(0, 0.7)) +
ylab('onset coef')
print(onset_coef_plot)
}
chosen_onset_types <- c("freq_10_persiann", "rangethres_10_15_15_40_persiann", "rangethres_10_15_30_40_persiann", "freq_12_persiann",
"freq_8_persiann", "rangethres_10_15_20_30_persiann")
for (onset_type in chosen_onset_types) {
results_FE <- all_results[all_results$model_type == "FE" &
all_results$onset_type == onset_type,]
results_FE$model_spec = "FE"
results_OLS <- all_results[all_results$model_type == "OLS" &
all_results$lat_predictor == "yes" &
all_results$year_predictor == "yes" &
all_results$onset_type == onset_type,]
results_OLS$model_spec = "OLS"
results <- rbind(results_FE, results_OLS)
results <- unite(results, col = "desc", model_type:plant_stat_type, remove = FALSE)
# group by onset_type and calculate mean, median, min, max and stdev for each onset_type
results_summary <- results %>% group_by(desc, model_type, plant_stat_type, intensity) %>%
summarize(mean_onset_coef = mean(onset_coef),
mean_onset_coef_stderr = mean(onset_coef_stderr),
mean_R2 = mean(R2),
sd_onset_coef = sd(onset_coef),
sd_onset_coef_stderr = sd(onset_coef_stderr),
sd_R2 = sd(R2)
)
onset_coef_plot <- ggplot(results_summary) +
geom_point(aes(x = desc, y = mean_onset_coef, col = model_type, shape = intensity)) +
geom_errorbar(aes(x = desc, ymin= mean_onset_coef-sd_onset_coef, ymax=mean_onset_coef+sd_onset_coef, col = model_type)) +
theme_bw() +
theme(axis.text.x = element_text(angle = 90)) +
ggtitle(paste(onset_type)) +
ylim(c(0, 0.7)) +
ylab('onset coef')
print(onset_coef_plot)
}
results_summary
chosen_onset_types <- c("freq_10_persiann", "rangethres_10_15_15_40_persiann", "rangethres_10_15_30_40_persiann", "freq_12_persiann",
"freq_8_persiann", "rangethres_10_15_20_30_persiann")
for (onset_type in chosen_onset_types) {
results_FE <- all_results[all_results$model_type == "FE" &
all_results$onset_type == onset_type,]
results_FE$model_spec = "FE"
results_OLS <- all_results[all_results$model_type == "OLS" &
all_results$lat_predictor == "yes" &
all_results$year_predictor == "yes" &
all_results$onset_type == onset_type,]
results_OLS$model_spec = "OLS"
results <- rbind(results_FE, results_OLS)
results <- unite(results, col = "desc", model_type:plant_stat_type, remove = FALSE)
# group by onset_type and calculate mean, median, min, max and stdev for each onset_type
results_summary <- results %>% group_by(desc, model_type, plant_stat_type, intensity) %>%
summarize(mean_onset_coef = mean(onset_coef),
mean_onset_coef_stderr = mean(onset_coef_stderr),
mean_R2 = mean(R2),
sd_onset_coef = sd(onset_coef),
sd_onset_coef_stderr = sd(onset_coef_stderr),
sd_R2 = sd(R2)
)
onset_coef_plot <- ggplot() +
geom_point(data = results_summary, aes(x = desc, y = mean_onset_coef, col = model_type, shape = intensity)) +
geom_errorbar(aes(x = desc, ymin= mean_onset_coef-sd_onset_coef, ymax=mean_onset_coef+sd_onset_coef, col = model_type)) +
theme_bw() +
theme(axis.text.x = element_text(angle = 90)) +
ggtitle(paste(onset_type)) +
ylim(c(0, 0.7)) +
ylab('onset coef')
print(onset_coef_plot)
}
chosen_onset_types <- c("freq_10_persiann", "rangethres_10_15_15_40_persiann", "rangethres_10_15_30_40_persiann", "freq_12_persiann",
"freq_8_persiann", "rangethres_10_15_20_30_persiann")
for (onset_type in chosen_onset_types) {
results_FE <- all_results[all_results$model_type == "FE" &
all_results$onset_type == onset_type,]
results_FE$model_spec = "FE"
results_OLS <- all_results[all_results$model_type == "OLS" &
all_results$lat_predictor == "yes" &
all_results$year_predictor == "yes" &
all_results$onset_type == onset_type,]
results_OLS$model_spec = "OLS"
results <- rbind(results_FE, results_OLS)
results <- unite(results, col = "desc", model_type:plant_stat_type, remove = FALSE)
# group by onset_type and calculate mean, median, min, max and stdev for each onset_type
results_summary <- results %>% group_by(desc, model_type, plant_stat_type, intensity) %>%
summarize(mean_onset_coef = mean(onset_coef),
mean_onset_coef_stderr = mean(onset_coef_stderr),
mean_R2 = mean(R2),
sd_onset_coef = sd(onset_coef),
sd_onset_coef_stderr = sd(onset_coef_stderr),
sd_R2 = sd(R2)
)
onset_coef_plot <- ggplot(results_summary) +
geom_point(aes(x = desc, y = mean_onset_coef, col = model_type, shape = intensity)) +
geom_errorbar(aes(x = desc, ymin= mean_onset_coef-sd_onset_coef, ymax=mean_onset_coef+sd_onset_coef, col = model_type)) +
theme_bw() +
theme(axis.text.x = element_text(angle = 90)) +
ggtitle(paste(onset_type)) +
ylim(c(0, 0.7)) +
ylab('onset coef')
print(onset_coef_plot)
}
chosen_onset_types <- c("freq_10_persiann", "rangethres_10_15_15_40_persiann", "rangethres_10_15_30_40_persiann", "freq_12_persiann",
"freq_8_persiann", "rangethres_10_15_20_30_persiann")
for (onset_type in chosen_onset_types) {
results_FE <- all_results[all_results$model_type == "FE" &
all_results$onset_type == onset_type,]
results_FE$model_spec = "FE"
results_OLSall <- all_results[all_results$model_type == "OLS" &
all_results$lat_predictor == "yes" &
all_results$year_predictor == "yes" &
all_results$onset_type == onset_type,]
results_OLSall$model_spec = "OLS_all"
results_OLSnone <- all_results[all_results$model_type == "OLS" &
all_results$lat_predictor == "no" &
all_results$year_predictor == "no" &
all_results$onset_type == onset_type,]
results_OLSnone$model_spec = "OLS_none"
results <- rbind(results_FE, results_OLSall, results_OLSnone)
results <- unite(results, col = "desc", model_type:plant_stat_type, remove = FALSE)
# group by onset_type and calculate mean, median, min, max and stdev for each onset_type
results_summary <- results %>% group_by(desc, model_type, plant_stat_type, intensity) %>%
summarize(mean_onset_coef = mean(onset_coef),
mean_onset_coef_stderr = mean(onset_coef_stderr),
mean_R2 = mean(R2),
sd_onset_coef = sd(onset_coef),
sd_onset_coef_stderr = sd(onset_coef_stderr),
sd_R2 = sd(R2)
)
onset_coef_plot <- ggplot(results_summary) +
geom_point(aes(x = desc, y = mean_onset_coef, col = model_type, shape = intensity)) +
geom_errorbar(aes(x = desc, ymin= mean_onset_coef-sd_onset_coef, ymax=mean_onset_coef+sd_onset_coef, col = model_type)) +
theme_bw() +
theme(axis.text.x = element_text(angle = 90)) +
ggtitle(paste(onset_type)) +
ylim(c(0, 0.7)) +
ylab('onset coef')
print(onset_coef_plot)
}
chosen_onset_types <- c("freq_10_persiann", "rangethres_10_15_15_40_persiann", "rangethres_10_15_30_40_persiann", "freq_12_persiann",
"freq_8_persiann", "rangethres_10_15_20_30_persiann")
for (onset_type in chosen_onset_types) {
results_FE <- all_results[all_results$model_type == "FE" &
all_results$onset_type == onset_type,]
results_FE$model_spec = "FE"
results_OLSall <- all_results[all_results$model_type == "OLS" &
all_results$lat_predictor == "yes" &
all_results$year_predictor == "yes" &
all_results$onset_type == onset_type,]
results_OLSall$model_spec = "OLS_all"
results_OLSnone <- all_results[all_results$model_type == "OLS" &
all_results$lat_predictor == "no" &
all_results$year_predictor == "no" &
all_results$onset_type == onset_type,]
results_OLSnone$model_spec = "OLS_none"
results <- rbind(results_FE, results_OLSall, results_OLSnone)
results <- unite(results, col = "desc", model_spec, intensity, plant_stat_type, remove = FALSE)
# group by onset_type and calculate mean, median, min, max and stdev for each onset_type
results_summary <- results %>% group_by(desc, model_type, plant_stat_type, intensity) %>%
summarize(mean_onset_coef = mean(onset_coef),
mean_onset_coef_stderr = mean(onset_coef_stderr),
mean_R2 = mean(R2),
sd_onset_coef = sd(onset_coef),
sd_onset_coef_stderr = sd(onset_coef_stderr),
sd_R2 = sd(R2)
)
onset_coef_plot <- ggplot(results_summary) +
geom_point(aes(x = desc, y = mean_onset_coef, col = model_type, shape = intensity)) +
geom_errorbar(aes(x = desc, ymin= mean_onset_coef-sd_onset_coef, ymax=mean_onset_coef+sd_onset_coef, col = model_type)) +
theme_bw() +
theme(axis.text.x = element_text(angle = 90)) +
ggtitle(paste(onset_type)) +
ylim(c(0, 0.7)) +
ylab('onset coef')
print(onset_coef_plot)
}
chosen_onset_types <- c("freq_10_persiann", "rangethres_10_15_15_40_persiann", "rangethres_10_15_30_40_persiann", "freq_12_persiann",
"freq_8_persiann", "rangethres_10_15_20_30_persiann")
for (onset_type in chosen_onset_types) {
results_FE <- all_results[all_results$model_type == "FE" &
all_results$onset_type == onset_type,]
results_FE$model_spec = "FE"
results_OLSall <- all_results[all_results$model_type == "OLS" &
all_results$lat_predictor == "yes" &
all_results$year_predictor == "yes" &
all_results$onset_type == onset_type,]
results_OLSall$model_spec = "OLS_all"
results_OLSnone <- all_results[all_results$model_type == "OLS" &
all_results$lat_predictor == "no" &
all_results$year_predictor == "no" &
all_results$onset_type == onset_type,]
results_OLSnone$model_spec = "OLS_none"
results <- rbind(results_FE, results_OLSall, results_OLSnone)
results <- unite(results, col = "desc", model_spec, intensity, plant_stat_type, remove = FALSE)
# group by onset_type and calculate mean, median, min, max and stdev for each onset_type
results_summary <- results %>% group_by(desc, model_spec, plant_stat_type, intensity) %>%
summarize(mean_onset_coef = mean(onset_coef),
mean_onset_coef_stderr = mean(onset_coef_stderr),
mean_R2 = mean(R2),
sd_onset_coef = sd(onset_coef),
sd_onset_coef_stderr = sd(onset_coef_stderr),
sd_R2 = sd(R2)
)
onset_coef_plot <- ggplot(results_summary) +
geom_point(aes(x = desc, y = mean_onset_coef, col = model_spec, shape = intensity)) +
geom_errorbar(aes(x = desc, ymin= mean_onset_coef-sd_onset_coef, ymax=mean_onset_coef+sd_onset_coef, col = model_type)) +
theme_bw() +
theme(axis.text.x = element_text(angle = 90)) +
ggtitle(paste(onset_type)) +
ylim(c(0, 0.7)) +
ylab('onset coef')
print(onset_coef_plot)
}
chosen_onset_types <- c("freq_10_persiann", "rangethres_10_15_15_40_persiann", "rangethres_10_15_30_40_persiann", "freq_12_persiann",
"freq_8_persiann", "rangethres_10_15_20_30_persiann")
for (onset_type in chosen_onset_types) {
results_FE <- all_results[all_results$model_type == "FE" &
all_results$onset_type == onset_type,]
results_FE$model_spec = "FE"
results_OLSall <- all_results[all_results$model_type == "OLS" &
all_results$lat_predictor == "yes" &
all_results$year_predictor == "yes" &
all_results$onset_type == onset_type,]
results_OLSall$model_spec = "OLS_all"
results_OLSnone <- all_results[all_results$model_type == "OLS" &
all_results$lat_predictor == "no" &
all_results$year_predictor == "no" &
all_results$onset_type == onset_type,]
results_OLSnone$model_spec = "OLS_none"
results <- rbind(results_FE, results_OLSall, results_OLSnone)
results <- unite(results, col = "desc", model_spec, intensity, plant_stat_type, remove = FALSE)
# group by onset_type and calculate mean, median, min, max and stdev for each onset_type
results_summary <- results %>% group_by(desc, model_spec, plant_stat_type, intensity) %>%
summarize(mean_onset_coef = mean(onset_coef),
mean_onset_coef_stderr = mean(onset_coef_stderr),
mean_R2 = mean(R2),
sd_onset_coef = sd(onset_coef),
sd_onset_coef_stderr = sd(onset_coef_stderr),
sd_R2 = sd(R2)
)
onset_coef_plot <- ggplot(results_summary) +
geom_point(aes(x = desc, y = mean_onset_coef, col = model_spec, shape = intensity)) +
geom_errorbar(aes(x = desc, ymin= mean_onset_coef-sd_onset_coef, ymax=mean_onset_coef+sd_onset_coef, col = model_spec)) +
theme_bw() +
theme(axis.text.x = element_text(angle = 90)) +
ggtitle(paste(onset_type)) +
ylim(c(0, 0.7)) +
ylab('onset coef')
print(onset_coef_plot)
}
onset_type <- "freq_10_persiann"
for (crop_intensity in c("SC", "DC")) {
for (plant_stat_type in c("median", "percentile25", "percentile5")) {
results_OLSall <- all_results[all_results$onset_type == onset_type &
all_results$model_type == "OLS" &
all_results$lat_predictor == "yes" &
all_results$year_predictor == "yes" &
all_results$intensity == crop_intensity &
all_results$plant_stat_type == plant_stat_type,]
results_OLSspaceonly <- all_results[all_results$onset_type == onset_type &
all_results$model_type == "OLS" &
all_results$lat_predictor == "yes" &
all_results$year_predictor == "no" &
all_results$intensity == crop_intensity &
all_results$plant_stat_type == plant_stat_type,]
results_OLSyearonly <- all_results[all_results$onset_type == onset_type &
all_results$model_type == "OLS" &
all_results$lat_predictor == "no" &
all_results$year_predictor == "yes" &
all_results$intensity == crop_intensity &
all_results$plant_stat_type == plant_stat_type,]
results_OLSnone <- all_results[all_results$onset_type == onset_type &
all_results$model_type == "OLS" &
all_results$lat_predictor == "no" &
all_results$year_predictor == "no" &
all_results$intensity == crop_intensity &
all_results$plant_stat_type == plant_stat_type,]
results_OLSall$model_spec = "OLS_all"
results_OLSspaceonly$model_spec = "OLS_spaceonly"
results_OLSyearonly$model_spec = "OLS_yearonly"
results_OLSnone$model_spec = "OLS_none"
results <- rbind(results_OLSall, results_OLSspaceonly, results_OLSyearonly, results_OLSnone)
results <- unite(results, col = "desc", model_spec, intensity, plant_stat_type, remove = FALSE)
# group by onset_type and calculate mean, median, min, max and stdev for each onset_type
results_summary <- results %>% group_by(model_spec) %>%
summarize(mean_onset_coef = mean(onset_coef),
mean_onset_coef_stderr = mean(onset_coef_stderr),
sd_onset_coef = sd(onset_coef),
sd_onset_coef_stderr = sd(onset_coef_stderr),
min_onset_coef = min(onset_coef),
min_onset_coef_stderr = min(onset_coef_stderr),
max_onset_coef = max(onset_coef),
max_onset_coef_stderr = max(onset_coef_stderr)
)
best_onset_plot <- ggplot(results_summary) +
geom_point(aes(x = model_spec, y = mean_onset_coef)) +
geom_point(aes(x = model_spec,y = min_onset_coef), color = "blue") +
geom_point(aes(x = model_spec, y = max_onset_coef), color = "red") +
geom_errorbar(aes(x = model_spec, ymin= mean_onset_coef-sd_onset_coef, ymax=mean_onset_coef+sd_onset_coef)) +
theme_bw() +
theme(axis.text.x = element_text(angle = 90)) +
ggtitle(paste(onset_type, ",", crop_intensity, ",", plant_stat_type)) +
ylim(c(0, 0.6)) +
ylab('onset coefficient')
print(best_onset_plot)
}
}
results_summary
chosen_onset_types <- c("freq_10_persiann", "rangethres_10_15_15_40_persiann", "rangethres_10_15_30_40_persiann", "freq_12_persiann",
"freq_8_persiann", "rangethres_10_15_20_30_persiann")
for (onset_type in chosen_onset_types) {
results_FE <- all_results[all_results$model_type == "FE" &
all_results$onset_type == onset_type,]
results_FE$model_spec = "FE"
results_OLSall <- all_results[all_results$model_type == "OLS" &
all_results$lat_predictor == "yes" &
all_results$year_predictor == "yes" &
all_results$onset_type == onset_type,]
results_OLSall$model_spec = "OLS_all"
results_OLSnone <- all_results[all_results$model_type == "OLS" &
all_results$lat_predictor == "no" &
all_results$year_predictor == "no" &
all_results$onset_type == onset_type,]
results_OLSnone$model_spec = "OLS_none"
results <- rbind(results_FE, results_OLSall, results_OLSnone)
results <- unite(results, col = "desc", model_spec, intensity, plant_stat_type, remove = FALSE)
# group by onset_type and calculate mean, median, min, max and stdev for each onset_type
results_summary <- results %>% group_by(desc, model_spec, plant_stat_type, intensity) %>%
summarize(mean_onset_coef = mean(onset_coef),
mean_onset_coef_stderr = mean(onset_coef_stderr),
mean_R2 = mean(R2),
sd_onset_coef = sd(onset_coef),
sd_onset_coef_stderr = sd(onset_coef_stderr),
sd_R2 = sd(R2)
)
onset_coef_plot <- ggplot(results_summary) +
geom_point(aes(x = desc, y = mean_onset_coef, col = model_spec, shape = intensity)) +
geom_errorbar(aes(x = desc, ymin= mean_onset_coef-sd_onset_coef, ymax=mean_onset_coef+sd_onset_coef, col = model_spec)) +
theme_bw() +
theme(axis.text.x = element_text(angle = 90)) +
ggtitle(paste(onset_type)) +
ylim(c(0, 0.7)) +
ylab('onset coef')
print(onset_coef_plot)
}
results_summary
onset_type <- "freq_10_persiann"
for (crop_intensity in c("SC", "DC")) {
for (plant_stat_type in c("median", "percentile25", "percentile5")) {
results_FE <- all_results[all_results$model_type == "FE" &
all_results$onset_type == onset_type &
all_results$intensity == crop_intensity &
all_results$plant_stat_type == plant_stat_type,]
results_FE$model_spec = "FE"
results_OLSall <- all_results[all_results$onset_type == onset_type &
all_results$model_type == "OLS" &
all_results$lat_predictor == "yes" &
all_results$year_predictor == "yes" &
all_results$intensity == crop_intensity &
all_results$plant_stat_type == plant_stat_type,]
results_OLSspaceonly <- all_results[all_results$onset_type == onset_type &
all_results$model_type == "OLS" &
all_results$lat_predictor == "yes" &
all_results$year_predictor == "no" &
all_results$intensity == crop_intensity &
all_results$plant_stat_type == plant_stat_type,]
results_OLSyearonly <- all_results[all_results$onset_type == onset_type &
all_results$model_type == "OLS" &
all_results$lat_predictor == "no" &
all_results$year_predictor == "yes" &
all_results$intensity == crop_intensity &
all_results$plant_stat_type == plant_stat_type,]
results_OLSnone <- all_results[all_results$onset_type == onset_type &
all_results$model_type == "OLS" &
all_results$lat_predictor == "no" &
all_results$year_predictor == "no" &
all_results$intensity == crop_intensity &
all_results$plant_stat_type == plant_stat_type,]
results_FE$model_spec = "FE"
results_OLSall$model_spec = "OLS_all"
results_OLSspaceonly$model_spec = "OLS_spaceonly"
results_OLSyearonly$model_spec = "OLS_yearonly"
results_OLSnone$model_spec = "OLS_none"
results <- rbind(results_FE, results_OLSall, results_OLSspaceonly, results_OLSyearonly, results_OLSnone)
results <- unite(results, col = "desc", model_spec, intensity, plant_stat_type, remove = FALSE)
# group by onset_type and calculate mean, median, min, max and stdev for each onset_type
results_summary <- results %>% group_by(model_spec) %>%
summarize(mean_onset_coef = mean(onset_coef),
mean_onset_coef_stderr = mean(onset_coef_stderr),
sd_onset_coef = sd(onset_coef),
sd_onset_coef_stderr = sd(onset_coef_stderr),
min_onset_coef = min(onset_coef),
min_onset_coef_stderr = min(onset_coef_stderr),
max_onset_coef = max(onset_coef),
max_onset_coef_stderr = max(onset_coef_stderr)
)
onset_coef_plot <- ggplot(results_summary) +
geom_point(aes(x = model_spec, y = mean_onset_coef)) +
geom_point(aes(x = model_spec,y = min_onset_coef), color = "blue") +
geom_point(aes(x = model_spec, y = max_onset_coef), color = "red") +
geom_errorbar(aes(x = model_spec, ymin= mean_onset_coef-sd_onset_coef, ymax=mean_onset_coef+sd_onset_coef)) +
theme_bw() +
theme(axis.text.x = element_text(angle = 90)) +
ggtitle(paste0(onset_type, ", ", crop_intensity, ", ", plant_stat_type)) +
ylim(c(0, 0.6)) +
ylab('onset coefficient')
print(onset_coef_plot)
}
}
View(results_summary)
View(results)
chosen_onset_types <- c("freq_10_persiann", "rangethres_10_15_15_40_persiann", "rangethres_10_15_30_40_persiann", "freq_12_persiann",
"freq_8_persiann", "rangethres_10_15_20_30_persiann")
for (onset_type in chosen_onset_types) {
results_FE <- all_results[all_results$model_type == "FE" &
all_results$onset_type == onset_type,]
results_FE$model_spec = "FE"
results_OLSall <- all_results[all_results$model_type == "OLS" &
all_results$lat_predictor == "yes" &
all_results$year_predictor == "yes" &
all_results$onset_type == onset_type,]
results_OLSall$model_spec = "OLS_all"
results_OLSnone <- all_results[all_results$model_type == "OLS" &
all_results$lat_predictor == "no" &
all_results$year_predictor == "no" &
all_results$onset_type == onset_type,]
results_OLSnone$model_spec = "OLS_none"
results <- rbind(results_FE, results_OLSall, results_OLSnone)
results <- unite(results, col = "desc", model_spec, intensity, plant_stat_type, remove = FALSE)
# group by onset_type and calculate mean, median, min, max and stdev for each onset_type
results_summary <- results %>% group_by(desc, model_spec, plant_stat_type, intensity) %>%
summarize(mean_onset_coef = mean(onset_coef),
mean_onset_coef_stderr = mean(onset_coef_stderr),
mean_R2 = mean(R2),
sd_onset_coef = sd(onset_coef),
sd_onset_coef_stderr = sd(onset_coef_stderr),
sd_R2 = sd(R2)
)
onset_coef_plot <- ggplot(results_summary) +
geom_point(aes(x = desc, y = mean_onset_coef, col = model_spec, shape = intensity)) +
geom_errorbar(aes(x = desc, ymin= mean_onset_coef-sd_onset_coef, ymax=mean_onset_coef+sd_onset_coef, col = model_spec)) +
theme_bw() +
theme(axis.text.x = element_text(angle = 90)) +
ggtitle(paste(onset_type)) +
ylim(c(0, 0.7)) +
ylab('onset coef')
print(onset_coef_plot)
}
